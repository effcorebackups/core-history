tests
- load|test
    id: load
    title: Load
    params
    - quantity_of_iterations|field_number
        title: Quantity of iterations
        element_attributes
        - name: quantity_of_iterations
        - value: 1
        - min: 1
        - max: 5000
    - proxy|field_text
        title: Proxy server
        description|text
          text: Examples: %%_examples
          args
          - examples: "127.0.0.1:8888" | "127.0.0.1:4321"
        element_attributes
        - name: proxy
        - required: false
    - is_https|field_switcher
        title: HTTPS
        element_attributes
        - name: is_https
    scenario
    - repeat|step_repeat
        quantity|param_from_form
          name: quantity_of_iterations
        actions
        # url: /...
        - request_url--...|step_request
            url: /...
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--...|step_check
            check: token
            where: %%_test_response_http_code
            match: 403
            on_failure
            # case for: IIS
            - response_check--..-0|step_check
                check: token
                where: %%_test_response_http_code
                match: 0
                on_failure
                - return_result|step_return
                    value: 0
        # url: /file.type
        - request_url--file.type|step_request
            url: /file.type
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--file.type|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: /.0.
        - request_url--.0.|step_request
            url: /.0.
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--.0.|step_check
            check: token
            where: %%_test_response_http_code
            match: 403
            on_failure
            # case for: IIS
            - response_check--.0.-0|step_check
                check: token
                where: %%_test_response_http_code
                match: 0
                on_failure
                - return_result|step_return
                    value: 0
        # url: /..0..
        - request_url--..0..|step_request
            url: /..0..
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--..0..|step_check
            check: token
            where: %%_test_response_http_code
            match: 403
            on_failure
            # case for: IIS
            - response_check--..0..-0|step_check
                check: token
                where: %%_test_response_http_code
                match: 0
                on_failure
                - return_result|step_return
                    value: 0
        # url: /.0.1.
        - request_url--.0.1.|step_request
            url: /.0.1.
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--.0.1.|step_check
            check: token
            where: %%_test_response_http_code
            match: 403
            on_failure
            # case for: IIS
            - response_check--.0.1.-0|step_check
                check: token
                where: %%_test_response_http_code
                match: 0
                on_failure
                - return_result|step_return
                    value: 0
        # url: /..0.1..
        - request_url--..0.1..|step_request
            url: /..0.1..
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--..0.1..|step_check
            check: token
            where: %%_test_response_http_code
            match: 403
            on_failure
            # case for: IIS
            - response_check--..0.1..-0|step_check
                check: token
                where: %%_test_response_http_code
                match: 0
                on_failure
                - return_result|step_return
                    value: 0
        # url: /..0..1..
        - request_url--..0..1..|step_request
            url: /..0..1..
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--..0..1..|step_check
            check: token
            where: %%_test_response_http_code
            match: 403
            on_failure
            # case for: IIS
            - response_check--..0..1..-0|step_check
                check: token
                where: %%_test_response_http_code
                match: 0
                on_failure
                - return_result|step_return
                    value: 0
        # url: //.
        - request_url---.|step_request
            url: //.
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check---.|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: //0
        - request_url---0|step_request
            url: //0
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check---0|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: /../
        - request_url--..-|step_request
            url: /../
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--..-|step_check
            check: token
            where: %%_test_response_http_code
            match: 400
            on_failure
            # case for: IIS
            - response_check--..--403|step_check
                check: token
                where: %%_test_response_http_code
                match: 403
                on_failure
                - return_result|step_return
                    value: 0
        # url: /./.
        - request_url--.-.|step_request
            url: /./.
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--.-.|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: /./0
        - request_url--.-0|step_request
            url: /./0
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--.-0|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: /.0/
        - request_url--.0-|step_request
            url: /.0/
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--.0-|step_check
            check: token
            where: %%_test_response_http_code
            match: 403
            on_failure
            - return_result|step_return
                value: 0
        # url: //..
        - request_url---..|step_request
            url: //..
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check---..|step_check
            check: token
            where: %%_test_response_http_code
            match: 400
            on_failure
            # case for: IIS
            - response_check---..-403|step_check
                check: token
                where: %%_test_response_http_code
                match: 403
                on_failure
                - return_result|step_return
                    value: 0
        # url: //.0
        - request_url---.0|step_request
            url: //.0
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check---.0|step_check
            check: token
            where: %%_test_response_http_code
            match: 403
            on_failure
            - return_result|step_return
                value: 0
        # url: ///.
        - request_url----.|step_request
            url: ///.
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check----.|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: ///0
        - request_url----0|step_request
            url: ///0
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check----0|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: //0.
        - request_url---0.|step_request
            url: //0.
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check---0.|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: /0.0
        - request_url--0.0|step_request
            url: /0.0
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--0.0|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: /0/.
        - request_url--0-.|step_request
            url: /0/.
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--0-.|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
        # url: /0/0
        - request_url--0-0|step_request
            url: /0/0
            is_https|param_from_form
              name: is_https
            proxy|param_from_form
              name: proxy
        - response_check--0-0|step_check
            check: token
            where: %%_test_response_http_code
            match: 404
            on_failure
            - return_result|step_return
                value: 0
  # ─────────────────────────────────────────────────────────────────────
  # return
  # ─────────────────────────────────────────────────────────────────────
    - return_result|step_return
        value: 1