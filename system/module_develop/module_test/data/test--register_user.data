tests
- register_user|test
    id: register_user
    title: Register user
    description: After each 3 registrations you will get the message "The test was failed!" because after every 3-rd challenge the CAPTCHA will change.
    params
    - proxy|field_text
        title: Proxy server
        description|text
          text: Examples: %%_examples
          args
          - examples: "127.0.0.1:8888" | "127.0.0.1:4321"
        element_attributes
        - name: proxy
        - required: false
    - is_https|field_switcher
        title: HTTPS
        element_attributes
        - name: is_https
    scenario
    # warming up the form for initialize CAPTCHA and Validation ID
    - form_registration_warming_up|step_request
        url: /registration
        is_https|param_from_form
          name: is_https
        proxy|param_from_form
          name: proxy
    - form_registration_submit|step_request
        url: /registration
        is_https|param_from_form
          name: is_https
        proxy|param_from_form
          name: proxy
        post
        - form_id: registration
        - validation_id: %%_test_form_validation_id{registration}
        - email: %%_test_email_random
        - nickname: %%_test_nickname_random
        - password: %%_test_password_random
        - timezone: UTC
        - session_params[0]: is_remember
        - session_params[1]: is_fixed_ip
        - captcha: %%_test_captcha
        - button: register
    - response_check|step_check
        where: subm_errs
        match: 0
        on_success
        - return_result|step_return
            value: 1
        on_failure
        - return_result|step_return
            value: 0