entities
- tree|entity
    name: tree
    title: Tree
    title_plural: Trees
    catalog_name: trees
    managing_is_enabled: true
    managing_group_id: menu
    has_parallel_checking: true
    ws_is_embed: true
    ws_module_id: true
    ws_data: true
    fields
    - id
        title: ID
        type: varchar
        size: 255
        collate: nocase
        not_null: true
        check: (id <> '')
        managing_on_select_multiple_is_enabled: true
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_id_text
        managing_control_properties
        - is_validate_uniqueness: true
        managing_control_element_attributes_on_update
        - disabled: true
    - title
        title: Title
        type: varchar
        size: 255
        collate: nocase
        not_null: true
        check: (title <> '')
        filter_insert: \effcore\core::return_htmlspecialchars_encoded
        filter_update: \effcore\core::return_htmlspecialchars_encoded
        managing_on_select_multiple_is_enabled: true
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_text
        selection_params_default
        - filter: \effcore\translation::apply
    - title_is_visible
        title: Title is visible
        type: boolean
        not_null: true
        default: 1
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_logic
        managing_control_properties_on_insert
        - selected
          - =: 1
        selection_params_default
        - filter: \effcore\translation::apply
    - created
        title: Created
        type: datetime
        default: null
        check: (created <> '')
        managing_on_select_is_enabled: true
        managing_control_class: \effcore\field_datetime_local
    - updated
        title: Updated
        type: datetime
        default: null
        check: (updated <> '')
        managing_on_select_is_enabled: true
        managing_control_class: \effcore\field_datetime_local
    - access
        title: Access
        type: blob
        filter_select: unserialize
        filter_insert: \effcore\core::data_serialize
        filter_update: \effcore\core::data_serialize
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\widget_access
    constraints
    - primary_id
        type: primary
        fields
        - =: id
    indexes
    - index_title
        type: index
        fields
        - =: title
    - index_created
        type: index
        fields
        - =: created
    - index_updated
        type: index
        fields
        - =: updated
- tree_item|entity
    name: tree_item
    title: Tree item
    title_plural: Tree items
    catalog_name: tree_items
    managing_is_enabled: true
    managing_group_id: menu
    has_parallel_checking: true
    ws_is_embed: true
    ws_module_id: true
    ws_data: true
    selection_params_for_managing_multiple
    - decorator_params
      - view_type: tree
      - tree_visualization_mode: decorated-rearrangeable
      - tree_mapping
        - id: tree_item.id
        - id_parent: tree_item.id_parent
        - id_tree: tree_item.id_tree
        - title: tree_item.title
        - url: tree_item.url
        - weight: tree_item.weight
    fields
    - id
        title: ID
        type: varchar
        size: 255
        collate: nocase
        not_null: true
        check: (id <> '')
        managing_on_select_multiple_is_enabled: true
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_id_text
        managing_control_properties
        - is_validate_uniqueness: true
        managing_control_element_attributes_on_update
        - disabled: true
    - id_tree
        title: Tree ID
        type: varchar
        size: 255
        collate: nocase
        not_null: true
        managing_on_select_multiple_is_enabled: true
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_relation
        managing_control_properties
        - related_entity_name: tree
        - related_entity_field_id_name: id
        - related_entity_field_title_name: title
        managing_control_element_attributes
        - disabled: true
    - id_parent
        title: Parent ID
        type: varchar
        size: 255
        collate: nocase
        default: null
        filter_insert: \effcore\core::return_null_if_empty
        filter_update: \effcore\core::return_null_if_empty
        managing_on_select_multiple_is_enabled: true
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_relation
        managing_control_properties
        - related_entity_name: tree_item
        - related_entity_field_id_name: id
        - related_entity_field_id_parent_name: id_parent
        - related_entity_field_title_name: title
        managing_control_element_attributes
        - required: false
    - title
        title: Title
        type: varchar
        size: 255
        collate: nocase
        not_null: true
        check: (title <> '')
        filter_insert: \effcore\core::return_htmlspecialchars_encoded
        filter_update: \effcore\core::return_htmlspecialchars_encoded
        managing_on_select_multiple_is_enabled: true
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_text
        selection_params_default
        - filter: \effcore\translation::apply
    - url
        title: URL
        type: varchar
        size: 2048
        collate: nocase
        default: null
        managing_on_select_multiple_is_enabled: true
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_url
        managing_control_element_attributes
        - required: false
        - maxlength: 2048
    - weight
        title: Weight
        type: integer
        not_null: true
        default: 0
        managing_on_select_multiple_is_enabled: true
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\field_weight
    - attributes
        title: Attributes
        type: blob
        filter_select: unserialize
        filter_insert: \effcore\core::data_serialize
        filter_update: \effcore\core::data_serialize
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\widget_attributes
        managing_control_properties
        - name_complex: attributes
        selection_params_default
        - filter: \effcore\widget_attributes::complex_value_to_value
    - link_attributes
        title: Link attributes
        type: blob
        filter_select: unserialize
        filter_insert: \effcore\core::data_serialize
        filter_update: \effcore\core::data_serialize
        managing_on_select_is_enabled: true
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\widget_attributes
        managing_control_properties
        - name_complex: link_attributes
        selection_params_default
        - filter: \effcore\widget_attributes::complex_value_to_value
    - created
        title: Created
        type: datetime
        default: null
        check: (created <> '')
        managing_on_select_is_enabled: true
        managing_control_class: \effcore\field_datetime_local
    - updated
        title: Updated
        type: datetime
        default: null
        check: (updated <> '')
        managing_on_select_is_enabled: true
        managing_control_class: \effcore\field_datetime_local
    - access
        title: Access
        type: blob
        filter_select: unserialize
        filter_insert: \effcore\core::data_serialize
        filter_update: \effcore\core::data_serialize
        managing_on_insert_is_enabled: true
        managing_on_update_is_enabled: true
        managing_control_class: \effcore\widget_access
    constraints
    - primary_id
        type: primary
        fields
        - =: id
    - foreign_id_tree
        type: foreign
        fields
        - =: id_tree
        references: trees
        references_fields
        - =: id
    - foreign_id_parent
        type: foreign
        fields
        - =: id_parent
        references: tree_items
        references_fields
        - =: id
    indexes
    - index_id_parent
        type: index
        fields
        - =: id_parent
    - index_id_tree
        type: index
        fields
        - =: id_tree
    - index_title
        type: index
        fields
        - =: title
    - index_weight
        type: index
        fields
        - =: weight
    - index_created
        type: index
        fields
        - =: created
    - index_updated
        type: index
        fields
        - =: updated